{"version":3,"file":"test-92a405df.js","sources":["../../common/Character.ts","../../tests/test.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  SpecificTextureRef,\n  INode,\n  INodeWritableProps,\n  RendererMain,\n  TextureRef,\n} from '@lightningjs/renderer';\nimport { assertTruthy } from '@lightningjs/renderer/utils';\n\nexport class Character {\n  node: INode;\n  curIntervalAnimation: ReturnType<typeof setTimeout> | null = null;\n  direction!: 'left' | 'right'; // Set in setState\n  state!: 'idle' | 'walk' | 'run' | 'jump'; // Set in setState\n  leftFrames: TextureRef[] = [];\n\n  constructor(\n    private props: Partial<INodeWritableProps>,\n    private renderer: RendererMain,\n    private rightFrames: SpecificTextureRef<'SubTexture'>[],\n  ) {\n    this.node = renderer.createNode({\n      x: props.x,\n      y: props.y,\n      width: 200 / 2,\n      height: 300 / 2,\n      texture: rightFrames[0],\n      parent: renderer.root,\n      zIndex: props.zIndex,\n    });\n    this.leftFrames = rightFrames.map((frame) => {\n      return renderer.createTexture('SubTexture', frame.props, {\n        flipX: true,\n      });\n    });\n    assertTruthy(this.node);\n    this.setState('right', 'idle');\n  }\n\n  setState(\n    direction: 'left' | 'right',\n    state: 'idle' | 'walk' | 'run' | 'jump',\n  ) {\n    if (this.direction === direction && this.state === state) {\n      return;\n    }\n    this.direction = direction;\n    this.state = state;\n    switch (state) {\n      case 'idle':\n        this.animateCharacter(direction, 2, 3, 100);\n        break;\n      case 'walk':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n      case 'run':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n      case 'jump':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n    }\n  }\n\n  private animateCharacter(\n    direction: 'left' | 'right',\n    iStart: number,\n    iEnd: number,\n    intervalMs: number,\n  ) {\n    let curI = iStart;\n    const frameArr = direction === 'left' ? this.leftFrames : this.rightFrames;\n    if (iEnd + 1 > frameArr.length || iStart < 0) {\n      throw new Error('Animation out of bounds');\n    }\n    if (this.curIntervalAnimation) {\n      clearInterval(this.curIntervalAnimation);\n    }\n    const nextFrame = () => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      this.node.texture = frameArr[curI]!;\n      curI++;\n      if (curI > iEnd) {\n        curI = iStart;\n      }\n    };\n    nextFrame();\n    this.curIntervalAnimation = setInterval(nextFrame, intervalMs);\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type INode, type IAnimationController } from '@lightningjs/renderer';\nimport rocko from '../assets/rocko.png';\nimport elevator from '../assets/elevator.png';\nimport spritemap from '../assets/spritemap.png';\nimport { Character } from '../common/Character.js';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const redRect = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100,\n    color: 0xff0000ff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 50,\n    }),\n    parent: testRoot,\n  });\n\n  const holder = renderer.createNode({\n    x: 150,\n    y: 900,\n    width: 100,\n    height: 100,\n    color: 0xff0000ff,\n    parent: testRoot,\n    zIndex: 0,\n    zIndexLocked: 0,\n    alpha: 0.5,\n  });\n\n  const child = renderer.createNode({\n    x: 111,\n    y: 0,\n    width: 111,\n    height: 111,\n    color: 0xff0000ff,\n    parent: holder,\n    zIndex: 12,\n    alpha: 0.5,\n  });\n\n  const greenRect = renderer.createNode({\n    x: 100,\n    y: 0,\n    width: 100,\n    height: 100,\n    color: 0x00ff00ff,\n    parent: testRoot,\n  });\n\n  const shaft = renderer.createNode({\n    x: 395,\n    y: 0,\n    width: 210,\n    height: renderer.settings.appHeight,\n    color: 0xffffffff,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 210,\n      height: renderer.settings.appHeight,\n    }),\n    parent: testRoot,\n  });\n\n  /*\n   * Begin: Relative Positioning Platform\n   */\n\n  const relativePositioningPlatform = renderer.createNode({\n    x: 605,\n    y: 230,\n    width: 1315,\n    height: 50,\n    color: 0xaabb66ff,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315,\n      height: 50,\n    }),\n    parent: testRoot,\n  });\n\n  const relativePositioningChild = renderer.createNode({\n    x: 10,\n    y: 10,\n    width: 1315 - 20,\n    height: 30,\n    color: 0xaaedffaa,\n    parent: relativePositioningPlatform,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315 - 20,\n      height: 30,\n    }),\n  });\n\n  const relativePositioningGrandchild = renderer.createNode({\n    x: 10,\n    y: 10,\n    width: 1315 - 20 - 20,\n    height: 10,\n    color: 0xff00ffff,\n    parent: relativePositioningChild,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315 - 20 - 20,\n      height: 50,\n    }),\n  });\n\n  /*\n   * End: Relative Positioning Platform\n   */\n\n  const rockoRect = renderer.createNode({\n    x: -181,\n    y: renderer.settings.appHeight - 218,\n    width: 181,\n    height: 218,\n    src: rocko,\n    color: 0xffffffff,\n    parent: testRoot,\n    zIndex: 1,\n  });\n\n  const elevatorRect = renderer.createNode({\n    x: 400,\n    y: 0,\n    width: 200,\n    height: 268,\n    src: elevator,\n    color: 0x0000ffff,\n    parent: testRoot,\n    zIndex: 2,\n    alpha: 0.9,\n  });\n\n  const elevatorNumber = renderer.createTextNode({\n    x: 0,\n    y: 0,\n    width: 200,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Dn',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 100,\n    textAlign: 'center',\n    parent: elevatorRect,\n    zIndex: 3,\n  });\n\n  setInterval(() => {\n    shaft.texture = renderer.createTexture(\n      'NoiseTexture',\n      {\n        width: 210,\n        height: renderer.settings.appHeight,\n        cacheId: Math.floor(Math.random() * 100000),\n      },\n      {\n        preload: true,\n      },\n    );\n  }, 1000);\n\n  // setTimeout required for ThreadX right now because the emit() that sends\n  // the animation to the renderer worker doesn't work until the Node is fully\n  // shared to the worker.\n  let rockoAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      // force behind elevator\n      rockoRect.zIndex = 1;\n\n      rockoAnimation = rockoRect.animate({}, { duration: 1000 }).start();\n      await rockoAnimation.waitUntilStopped();\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            x: 400,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            y: elevatorRect.height - rockoRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      // force before elevator\n      rockoRect.zIndex = 3;\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            x: renderer.settings.appWidth,\n            // y: 100,\n          },\n          {\n            duration: 2616,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      console.log('resetting rocko');\n      rockoRect.x = -rockoRect.width;\n      rockoRect.y = renderer.settings.appHeight - 218;\n      rockoRect.flush();\n    }\n  }, 1000);\n\n  let elevatorAnimation: IAnimationController | null = null;\n\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      elevatorNumber.text = 'Dn';\n      elevatorRect.color = 0x0000ffff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            y: 1080 - elevatorRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            // y: 1080 - elevatorRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorNumber.text = 'Up';\n\n      elevatorRect.color = 0x00ff00ff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            y: 0,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorRect.color = 0x00ff00ff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            // y: 0,\n          },\n          {\n            duration: 2616,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n    }\n  }, 1000);\n\n  let blueRect: INode | null = null;\n\n  const interval = setInterval(() => {\n    redRect.color++;\n  }, 100);\n\n  setInterval(() => {\n    if (blueRect) {\n      blueRect.destroy();\n      blueRect = null;\n    } else {\n      blueRect = renderer.createNode({\n        x: 200,\n        y: 0,\n        width: 100,\n        height: 100,\n        color: 0x0000ffff,\n        parent: testRoot,\n      });\n    }\n  }, 500);\n\n  setInterval(() => {\n    if (greenRect.parent) {\n      greenRect.parent = null;\n    } else {\n      greenRect.parent = testRoot;\n    }\n  }, 1000);\n\n  /*\n   * Begin: Sprite Map Demo\n   */\n\n  const spriteMapTexture = renderer.createTexture('ImageTexture', {\n    src: spritemap,\n  });\n\n  const frames = Array.from(Array(8).keys()).map((i) => {\n    const x = (i % 8) * 100;\n    const y = Math.floor(i / 8) * 150;\n    return renderer.createTexture('SubTexture', {\n      texture: spriteMapTexture,\n      x,\n      y,\n      width: 100,\n      height: 150,\n    });\n  });\n\n  // add bunch of characters\n  for (let i = 0; i < 5; i++) {\n    new Character(\n      { x: 800 + i * 200, y: 125, zIndex: i % 2 === 0 ? 3 : 1 },\n      renderer,\n      frames,\n    );\n  }\n\n  const character = new Character(\n    { x: 1800, y: 125, zIndex: 6 },\n    renderer,\n    frames,\n  );\n\n  // When user presses left or right arrow, move the character\n  // When user presses spacebar, jump\n  window.addEventListener('keydown', (e) => {\n    if (e.code === 'ArrowLeft') {\n      character.setState('left', 'walk');\n      character.node\n        .animate(\n          {\n            x: character.node.x - 30,\n          },\n          { duration: 200 },\n        )\n        .start();\n    } else if (e.code === 'ArrowRight') {\n      character.setState('right', 'walk');\n      character.node\n        .animate(\n          {\n            x: character.node.x + 30,\n          },\n          { duration: 200 },\n        )\n        .start();\n    } else if (e.code === 'Space') {\n      character.setState(character.direction, 'jump');\n    }\n  });\n\n  window.addEventListener('keyup', (e) => {\n    if (e.code === 'ArrowLeft') {\n      character.setState('left', 'idle');\n    } else if (e.code === 'ArrowRight') {\n      character.setState('right', 'idle');\n    }\n  });\n\n  /*\n   * End: Sprite Map Demo\n   */\n\n  /// Text Demo\n  const textNode = renderer.createTextNode({\n    x: shaft.x + shaft.width,\n    y: relativePositioningPlatform.y + relativePositioningPlatform.height,\n    width: 300,\n    height: 200,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Text Test: 0',\n    fontFamily: 'Ubuntu',\n    contain: 'width',\n    textAlign: 'center',\n    fontSize: 100,\n    scale: 1,\n    parent: testRoot,\n  });\n\n  const noChangeText = renderer.createTextNode({\n    x: renderer.settings.appWidth - 300,\n    y: renderer.settings.appHeight - 200,\n    width: 300,\n    height: 200,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Rocko Test',\n    fontFamily: 'NotoSans',\n    contain: 'width',\n    textAlign: 'center',\n    fontSize: 100,\n    parent: testRoot,\n  });\n\n  let count = 1;\n  setInterval(() => {\n    textNode.text = `Text Test: ${count++}`;\n  }, 1000);\n\n  console.log('ready!');\n}\n"],"names":["rocko","elevator"],"mappings":"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"}